{% extends 'base.html.twig' %}

{% block title %}Ã‰tape 2 : Choisir un ordre des valeurs{% endblock %}

{% block body %}
<div class="bg-white rounded-[20px] shadow-[0_20px_60px_rgba(0,0,0,0.3)] p-10 max-w-[700px] w-full text-center">
  <h1 class="text-text-dark text-[2em] mb-2.5 drop-shadow-[2px_2px_4px_rgba(0,0,0,0.1)]">
      Ã‰tape 2 : Choisir un ordre des valeurs ðŸŽ¨
  </h1>
  <p class="text-text-medium text-[1.1em] mb-10">
      Voici l'ordre proposÃ© pour cette partie :
  </p>
  
  <div class="flex flex-col gap-5 my-10">
    {% for value in valuesOrder %}
    <div class="bg-gradient-item p-6 rounded-[15px] flex items-center justify-center gap-5 shadow-[0_4px_10px_rgba(0,0,0,0.1)] transition-transform duration-300 ease-in-out hover:-translate-y-1 hover:shadow-[0_6px_15px_rgba(0,0,0,0.15)]">
      <div class="bg-gradient-primary text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-[1.2em]">
          {{ loop.index }}
      </div>
      <div class="flex flex-col gap-2">
        <form method="POST" action="{{ path('app_reorder_value') }}" class="inline">
          <input type="hidden" name="index" value="{{ loop.index0 }}">
          <input type="hidden" name="direction" value="up">
          <button 
            type="submit" 
            {% if loop.first %}disabled{% endif %}
            class="bg-gradient-primary text-white w-16 h-16 rounded-full flex items-center justify-center font-bold text-[2em] cursor-pointer transition-all duration-300 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed"
            title="Monter"
          >
            â†‘
          </button>
        </form>
        <form method="POST" action="{{ path('app_reorder_value') }}" class="inline">
          <input type="hidden" name="index" value="{{ loop.index0 }}">
          <input type="hidden" name="direction" value="down">
          <button 
            type="submit" 
            {% if loop.last %}disabled{% endif %}
            class="bg-gradient-primary text-white w-16 h-16 rounded-full flex items-center justify-center font-bold text-[2em] cursor-pointer transition-all duration-300 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed"
            title="Descendre"
          >
            â†“
          </button>
        </form>
      </div>
      <div class="text-[1.5em] font-bold text-text-dark">
          {{ value }}
      </div>
    </div>
    {% endfor %}
  </div>

  <div class="flex flex-col gap-4 justify-center mt-5">
    <div class="flex gap-4 justify-center">
      <a 
        href="{{ path('app_choose_values', {'new': 1}) }}" 
        class="bg-gradient-primary text-white px-12 py-4 text-[1.2em] font-bold rounded-[50px] cursor-pointer transition-all duration-300 ease-in-out shadow-[0_4px_15px_rgba(102,126,234,0.4)] inline-block hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(102,126,234,0.6)]">
          ðŸŽ² Nouvel ordre alÃ©atoire
      </a>
      <a 
        href="{{ path('app_confirm_values') }}"
        class="bg-gradient-primary text-white px-12 py-4 text-[1.2em] font-bold rounded-[50px] cursor-pointer transition-all duration-300 ease-in-out shadow-[0_4px_15px_rgba(102,126,234,0.4)] inline-block hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(102,126,234,0.6)]"
      >
          âœ“ Confirmer cet ordre
      </a>
    </div>
    <p class="text-text-medium text-[0.9em] text-gray-500 mt-2">
        Cliquez sur "Confirmer" pour accepter l'ordre actuel (alÃ©atoire ou modifiÃ©)
    </p>
  </div>
</div>
{% endblock %}
